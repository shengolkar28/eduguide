<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Your Full Information</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    *{font-family:'Poppins',sans-serif!important;}

    body {
      background: #f5f8ff;
    }

    /* NAVBAR */
    .navbar-brand {
      font-size: 1.8rem;
      font-weight: 700;
    }

    /* MAIN LAYOUT */
    .layout {
      display: flex;
      gap: 20px;
      padding-top: 40px;
    }

    /* LEFT SECTION MENU */
    .section-menu {
      width: 260px;
      background: white;
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      height: fit-content;
    }

    .section-item {
      padding: 12px 14px;
      border-radius: 10px;
      margin-bottom: 6px;
      font-weight: 500;
      cursor: pointer;
      transition: .2s;
      color: #444;
    }

    .section-item:hover {
      background: #eef3ff;
    }

    .section-item.active {
      background: #0d6efd;
      color: white;
    }

    /* RIGHT CONTENT AREA */
    .section-card {
      flex-grow: 1;
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.07);
      display: none;   /* hidden until clicked */
    }

    .section-card.active {
      display: block;
    }

    .section-title {
      font-size: 1.4rem;
      font-weight: 600;
      border-left: 5px solid #0d6efd;
      padding-left: 12px;
      margin-bottom: 20px;
    }

    /* Chips (Skills + Interests) */
    .chip {
      display:inline-flex;
      align-items:center;
      background:#e8efff;
      color:#0d6efd;
      padding:6px 12px;
      border-radius:20px;
      margin:4px;
      cursor:pointer;
      transition:.2s;
    }
    .chip i{margin-left:6px;}

    .add-box {
      border:2px dashed #b8c7e0;
      padding:12px;
      text-align:center;
      border-radius:10px;
      cursor:pointer;
      transition:.2s;
      font-weight:500;
      color:#6b7a99;
    }

    .add-box:hover {
      color:#0d6efd;
      border-color:#0d6efd;
    }
    #achievementSuggestions, #activitySuggestions {
  margin-top: 10px;
}

.format-chip-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.format-chip {
  padding: 8px 16px;
  background: #eef3ff;
  border-radius: 20px;
  color: #0d6efd;
  font-weight: 500;
  cursor: pointer;
  user-select: none;
  transition: 0.2s;
  border: 1px solid #d6e2ff;
}

.format-chip:hover {
  background: #dce8ff;
}

.format-chip.selected {
  background: #0d6efd;
  color: #fff;
  border-color: #0b5ed7;
  box-shadow: 0 2px 8px rgba(13, 110, 253, 0.2);
}

.cert-card {
  background: #f8faff;
  border: 1px solid #d9e3f5;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 12px;
  position: relative;
}

.cert-title {
  font-weight: 600;
  color: #0d6efd;
  font-size: 1.1rem;
}

.cert-delete {
  position: absolute;
  top: 10px;
  right: 12px;
  cursor: pointer;
  color: #dc3545;
  font-size: 1.2rem;
}
.cert-delete:hover {
  color: #bb2d3b;
}

.section-item.saved {
    background: #eaf3ff !important;
    border-left: 4px solid #0d6efd;
    font-weight: 600;
}
.saved-section {
  background: #e1edff !important;
  color: #0d6efd !important;
}

#finalSaveBtn {
  display: none;
  transition: all 0.3s ease;
}

#finalSaveBtn:not(:disabled) {
  display: block;
  opacity: 1;
  cursor: pointer;
}

#editInfoBtn {
  display: none;
}


  </style>
</head>

<body>

<!-- TOP NAVBAR -->
<nav class="navbar navbar-expand-lg bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">Edu<span class="text-primary">Guide</span></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMain">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>

        <div class="dropdown ms-3" id="profileDropdown">
          <button class="btn p-0 bg-transparent border-0" data-bs-toggle="dropdown">
            <img id="profileIcon" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" width="38"
                 height="38" class="rounded-circle border">
          </button>
          <ul class="dropdown-menu dropdown-menu-end shadow">
            <li class="dropdown-item fw-bold" id="dropdownName">User</li>
            <li class="dropdown-item text-muted small" id="dropdownEmail">email@example.com</li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="fullinfo.html">Full Info</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><button class="dropdown-item text-danger" id="logoutBtn">Logout</button></li>
          </ul>
        </div>

      </ul>
    </div>
  </div>
</nav>

<!-- MAIN LAYOUT -->
<div class="container layout">

  <!-- LEFT SECTION MENU -->
  <div class="section-menu">

    <div class="section-item active" data-target="basicInfo">Basic Info</div>
    <div class="section-item" data-target="education">Education</div>
    <div class="section-item" data-target="skills">Skills</div>
    <div class="section-item" data-target="interests">Interests</div>
    <div class="section-item" data-target="personality">Personality</div>
    <!-- Activities removed -->
    <div class="section-item" data-target="strengthsWeaknesses">Strengths & Weaknesses</div>
    <div class="section-item" data-target="learningPreferences">Learning Preferences</div>
    <div class="section-item" data-target="workenvironment">Preferred Work Environment</div>
    <div class="section-item" data-target="salary">Salary</div>
    <div class="section-item" data-target="certifications">Certifications</div>




  </div>

  <!-- RIGHT SECTIONS -->

  <!-- BASIC INFO -->
  <div class="section-card active" id="basicInfo">
    <div class="section-title">Basic Information</div>

    <div class="row g-4">
      <div class="col-md-6">
        <label class="form-label">Full Name</label>
        <input type="text" class="form-control" id="fullName">
      </div>

      <div class="col-md-3">
        <label class="form-label">Age</label>
        <input type="number" class="form-control" id="age">
      </div>

      <div class="col-md-3">
        <label class="form-label">Gender</label>
        <select id="gender" class="form-select">
          <option value="">Select</option>
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
        </select>
      </div>

      <div class="col-md-6">
        <label class="form-label">Current Education Level</label>
        <select id="currentEducation" class="form-select">
          <option value="">Select</option>
          <option>Class 12 / Diploma</option>
          <option>Undergraduate (UG)</option>
        </select>
      </div>

    </div>
    <div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="basicInfo">Save</button>
</div>

  </div>
<!-- EDUCATION (REPLACEMENT) -->
<div class="section-card" id="education">
  <div class="section-title">Education</div>

  <!-- CLASS 10 -->
  <div id="eduClass10" class="mb-4">
    <h5 class="fw-bold">Class 10</h5>
    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">State</label>
        <input type="text" id="edu10_state" class="form-control" placeholder="e.g., Maharashtra">
      </div>
      <div class="col-md-4">
        <label class="form-label">Board</label>
        <input type="text" id="edu10_board" class="form-control" placeholder="e.g., CBSE / State Board">
      </div>
      <div class="col-md-4">
        <label class="form-label">Score (%) / Grade</label>
        <input type="number" id="edu10_score" class="form-control" step="0.01" placeholder="e.g., 85.6">
      </div>
    </div>
  </div>

  <!-- CLASS 12 OR DIPLOMA SELECTOR -->
  <div class="mb-3">
    <label class="form-label fw-semibold">12th or Diploma</label>
    <select id="edu12_type" class="form-select">
      <option value="12th">Class 12</option>
      <option value="diploma">Diploma</option>
    </select>
  </div>

  <!-- CLASS 12 -->
  <div id="eduClass12" class="mb-4">
    <h5 class="fw-bold">Class 12</h5>
    <div class="row g-3">
      <div class="col-md-3">
        <label class="form-label">State</label>
        <input type="text" id="edu12_state" class="form-control" placeholder="State">
      </div>
      <div class="col-md-3">
        <label class="form-label">Board</label>
        <input type="text" id="edu12_board" class="form-control" placeholder="Board">
      </div>
      <div class="col-md-3">
        <label class="form-label">Stream</label>
        <select id="edu12_stream" class="form-select">
          <option value="">Select</option>
          <option>Science</option>
          <option>Commerce</option>
          <option>Arts</option>
          <option>Vocational</option>
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Score (%) / Grade</label>
        <input type="number" id="edu12_score" class="form-control" step="0.01" placeholder="e.g., 88.5">
      </div>
    </div>
  </div>

  <!-- DIPLOMA (alternative to Class 12) -->
  <div id="eduDiploma" class="mb-4" style="display:none;">
    <h5 class="fw-bold">Diploma</h5>
    <div class="row g-3">
      <div class="col-md-3">
        <label class="form-label">State</label>
        <input type="text" id="diploma_state" class="form-control" placeholder="State">
      </div>
      <div class="col-md-3">
        <label class="form-label">Institute</label>
        <input type="text" id="diploma_institute" class="form-control" placeholder="Institute name">
      </div>
      <div class="col-md-3">
        <label class="form-label">Branch</label>
        <input type="text" id="diploma_branch" class="form-control" placeholder="e.g., Mechanical">
      </div>
      <div class="col-md-3">
        <label class="form-label">Score / CGPA</label>
        <input type="number" id="diploma_score" class="form-control" step="0.01" placeholder="e.g., 7.8">
      </div>
    </div>
  </div>

  <!-- UNDERGRADUATE (UG) — shows only if Basic Info currentEducation = 'Undergraduate (UG)' -->
  <div id="eduUG" class="mb-4" style="display:none;">
    <h5 class="fw-bold">Undergraduate (UG)</h5>
    <div class="row g-3">
      <div class="col-md-3">
        <label class="form-label">State</label>
        <input type="text" id="ug_state" class="form-control" placeholder="State">
      </div>
      <div class="col-md-3">
        <label class="form-label">Institute / College</label>
        <input type="text" id="ug_institute" class="form-control" placeholder="College name">
      </div>
      <div class="col-md-3">
        <label class="form-label">Degree</label>
        <select id="ug_degree" class="form-select">
          <!-- options populated by JS -->
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Branch / Specialization</label>
        <input type="text" id="ug_branch" class="form-control" placeholder="e.g., Computer Science">
      </div>
      <div class="col-md-3 mt-2">
        <label class="form-label">CGPA / Percentage</label>
        <input type="number" id="ug_cgpa" class="form-control" step="0.01" placeholder="e.g., 8.2 or 78.5">
      </div>
    </div>
  </div>

<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="education">Save</button>
</div></div>



<!-- SKILLS (replace existing Skills block) -->
<div class="section-card" id="skills">
  <div class="section-title">Skills</div>

  <!-- selected chips -->
  <div id="selectedSkills" class="mb-2" aria-live="polite"></div>

  <!-- add box to open search -->
  <div class="add-box mt-3" data-bs-toggle="collapse" data-bs-target="#skillBox" id="openSkillBoxBtn">
    + Add Skill
  </div>

  <!-- collapsed search container -->
  <div class="collapse mt-3" id="skillBox">
    <input type="text" class="form-control search-input" id="skillSearch" placeholder="Search skills or press Enter to add" autocomplete="off">
    <div id="skillSuggestions" class="mt-2"></div>

    <div class="mt-3">
      <small class="text-muted">Can't find a skill? Type it and press Enter to add it.</small>
    </div>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="skills">Save</button>
</div>
</div>

<!-- INTERESTS -->
<div class="section-card" id="interests">
  <div class="section-title">Interests</div>

  <!-- Selected Interests Chips -->
  <div id="selectedInterests" class="mb-2" aria-live="polite"></div>

  <!-- Add Interest Box -->
  <div class="add-box mt-3" data-bs-toggle="collapse" data-bs-target="#interestBox" id="openInterestBoxBtn">
    + Add Interest
  </div>

  <!-- Collapsible Search Box -->
  <div class="collapse mt-3" id="interestBox">
    <input 
      type="text" 
      class="form-control search-input" 
      id="interestSearch" 
      placeholder="Search interests or press Enter to add" 
      autocomplete="off"
    >

    <!-- Suggestion list -->
    <div id="interestSuggestions" class="mt-2"></div>

    <div class="mt-3">
      <small class="text-muted">Can't find an interest? Type it and press Enter to add it.</small>
    </div>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="interests">Save</button>
</div>

</div>

<!-- PERSONALITY & WORK STYLE -->
<div class="section-card" id="personality">
  <div class="section-title">Personality & Work Style</div>

  <p class="text-muted mb-4">
    Tell us how you naturally like to work. This helps improve career recommendations.
  </p>

  <!-- Work preference -->
  <div class="mb-4">
    <label class="form-label fw-semibold">Preferred Work Type</label>
    <select id="workType" class="form-select">
      <option value="">Select</option>
      <option>Individual Work</option>
      <option>Team Collaboration</option>
      <option>Both</option>
    </select>
  </div>

  <!-- Work style -->
  <div class="mb-4">
    <label class="form-label fw-semibold">Work Style</label>
    <select id="workStyle" class="form-select">
      <option value="">Select</option>
      <option>Analytical</option>
      <option>Creative</option>
      <option>Structured</option>
      <option>Flexible</option>
    </select>
  </div>

  <!-- Environment preference -->
  <div class="mb-4">
    <label class="form-label fw-semibold">Work Environment Preference</label>
    <select id="environmentPreference" class="form-select">
      <option value="">Select</option>
      <option>Desk Work</option>
      <option>Field Work</option>
      <option>Hybrid</option>
      <option>Remote</option>
    </select>
  </div>

  <!-- Stress level -->
  <div class="mb-4">
    <label class="form-label fw-semibold">Stress Handling</label>
    <select id="stressLevel" class="form-select">
      <option value="">Select</option>
      <option>Low</option>
      <option>Medium</option>
      <option>High</option>
    </select>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="personality">Save</button>
</div>

</div>
<!-- Salary Expectations -->
<div class="section-card" id="salary">
  <div class="section-title">Salary Expectations</div>

  <div class="mb-4">
    <label class="form-label fw-semibold">Salary Expectations</label>

    <div id="salaryExpectationsContainer" class="format-chip-container">
      <span class="format-chip salary-chip" data-value="Below 3 LPA">Below 3 LPA</span>
      <span class="format-chip salary-chip" data-value="3–6 LPA">3–6 LPA</span>
      <span class="format-chip salary-chip" data-value="6–10 LPA">6–10 LPA</span>
      <span class="format-chip salary-chip" data-value="10–20 LPA">10–20 LPA</span>
      <span class="format-chip salary-chip" data-value="20+ LPA">20+ LPA</span>
    </div>

    <small class="text-muted">Select one option</small>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="salary">Save</button>
</div>
</div>


<div class="section-card" id="strengthsWeaknesses">
  <div class="section-title">Strengths & Weaknesses</div>

  <!-- Strengths -->
  <h5 class="fw-bold mt-3">Strengths</h5>
  <div id="selectedStrengths" class="mb-2"></div>

  <div class="add-box mt-2" data-bs-toggle="collapse" data-bs-target="#strengthBox">
    + Add Strength
  </div>

  <div class="collapse mt-3" id="strengthBox">
    <input 
      type="text"
      id="strengthSearch"
      class="form-control search-input"
      placeholder="Search strengths..."
      autocomplete="off"
    >

    <div id="strengthSuggestions" class="mt-2"></div>
  </div>

  <!-- Weaknesses -->
  <h5 class="fw-bold mt-4">Weaknesses</h5>
  <div id="selectedWeaknesses" class="mb-2"></div>

  <div class="add-box mt-3" data-bs-toggle="collapse" data-bs-target="#weaknessBox">
    + Add Weakness
  </div>

  <div class="collapse mt-3" id="weaknessBox">
    <input 
      type="text"
      id="weaknessSearch"
      class="form-control search-input"
      placeholder="Search weaknesses..."
      autocomplete="off"
    >
    <div id="weaknessSuggestions" class="mt-2"></div>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="strengthsWeaknesses">Save</button>
</div>
</div>

<!-- LEARNING PREFERENCES -->
<div class="section-card" id="learningPreferences">
  <div class="section-title">Learning Preferences</div>

  <p class="text-muted mb-3">
    Tell us how you learn best — this helps personalise recommended learning paths and resources.
  </p>

  <!-- Preferred Learning Formats -->
 <div class="mb-3">
  <label class="form-label fw-semibold">Preferred Learning Formats</label>

  <div id="learningFormatContainer" class="format-chip-container">
    <!-- Buttons dynamically toggled by JS -->
    <span class="format-chip" data-value="Video lectures">Video lectures</span>
    <span class="format-chip" data-value="Text / Articles">Text / Articles</span>
    <span class="format-chip" data-value="Hands-on labs">Hands-on labs</span>
    <span class="format-chip" data-value="Interactive quizzes">Interactive quizzes</span>
    <span class="format-chip" data-value="Project-based">Project-based</span>
    <span class="format-chip" data-value="Workshops">Workshops</span>
    <span class="format-chip" data-value="Bootcamps">Bootcamps</span>
    <span class="format-chip" data-value="Webinars">Webinars</span>
    <span class="format-chip" data-value="Peer learning / Study groups">Peer learning / Study groups</span>
    <span class="format-chip" data-value="One-on-one tutoring">One-on-one tutoring</span>
  </div>

  <small class="text-muted">Select multiple formats</small>
</div>


  <!-- Preferred Pace -->
  <div class="mb-3">
    <label class="form-label fw-semibold">Preferred Learning Pace</label>
    <select id="learningPace" class="form-select">
      <option value="">Select</option>
      <option value="self_paced">Self-paced</option>
      <option value="moderate_schedule">Moderate schedule</option>
      <option value="intensive">Intensive / Fast</option>
    </select>
  </div>

  <!-- Mode -->
  <div class="mb-3">
    <label class="form-label fw-semibold">Mode Preference</label>
    <select id="learningMode" class="form-select">
      <option value="">Select</option>
      <option>Online</option>
      <option>In-person</option>
      <option>Hybrid (both)</option>
    </select>
  </div>

  <div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="learningPreferences">Save</button>
</div>

</div>

<!-- Preferred Work Environment -->
<div class="section-card" id="workenvironment">
  <div class="section-title">Preferred Work Environment</div>

  <div class="mb-4">
    <div id="workEnvironmentContainer" class="format-chip-container">
      <span class="format-chip" data-value="Quiet & Focused">Quiet & Focused</span>
      <span class="format-chip" data-value="Collaborative">Collaborative</span>
      <span class="format-chip" data-value="Fast-paced">Fast-paced</span>
      <span class="format-chip" data-value="Flexible / Hybrid">Flexible / Hybrid</span>
      <span class="format-chip" data-value="Fully Remote">Fully Remote</span>
      <span class="format-chip" data-value="Office Workspace">Office Workspace</span>
      <span class="format-chip" data-value="Creative / Open">Creative / Open</span>
      <span class="format-chip" data-value="Structured / Process-driven">Structured / Process-driven</span>
      <span class="format-chip" data-value="Leadership-heavy">Leadership-heavy</span>
      <span class="format-chip" data-value="Independent Work">Independent Work</span>
    </div>

    <small class="text-muted">Select multiple options</small>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="workenvironment">Save</button>
</div>
</div>
<!-- CERTIFICATIONS -->
<div class="section-card" id="certifications">
  <div class="section-title">Certifications</div>

  <!-- Existing Certifications -->
  <div id="certificationList" class="mb-4"></div>

  <!-- Add New Certification Form -->
  <div class="add-box mt-3" data-bs-toggle="collapse" data-bs-target="#certificationBox">
    + Add Certification
  </div>

  <div class="collapse mt-3" id="certificationBox">
    <div class="row g-3">

      <div class="col-md-6">
        <label class="form-label">Certificate Name</label>
        <input type="text" class="form-control" id="certName">
      </div>

      <div class="col-md-6">
        <label class="form-label">Issuing Organization</label>
        <input type="text" class="form-control" id="certOrg">
      </div>

      <div class="col-md-6">
        <label class="form-label">Issue Date</label>
        <input type="date" class="form-control" id="certIssueDate">
      </div>

      <div class="col-md-6">
        <label class="form-label">Expiry Date (Optional)</label>
        <input type="date" class="form-control" id="certExpiryDate">
      </div>

      <div class="col-md-6">
        <label class="form-label">Certificate ID</label>
        <input type="text" class="form-control" id="certId">
      </div>

      <div class="col-md-6">
        <label class="form-label">Upload Certificate (PDF/Image)</label>
        <input type="file" class="form-control" id="certFile" accept=".pdf,.jpg,.png,.jpeg">
      </div>

      <div class="col-12 mt-2">
        <button class="btn btn-primary" id="addCertificationBtn">Add Certification</button>
      </div>

    </div>
  </div>
<div class="text-end mt-4">
  <button class="btn btn-primary section-save-btn" data-section="certifications">Save</button>
</div>
</div>

</div>

<!-- FINAL SAVE -->
<div class="container my-5">
  <div class="text-center">
    <button id="finalSaveBtn" class="btn btn-success btn-lg" disabled>Save Full Info</button>
    <button id="editInfoBtn" class="btn btn-outline-primary btn-lg d-none">Edit Info</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("user") || "{}");
    const token = localStorage.getItem("token");

    // If not logged in → redirect
    if (!token || !user.email) {
        window.location.href = "index.html";
        return;
    }

    const dropdownName = document.getElementById("dropdownName");
    const dropdownEmail = document.getElementById("dropdownEmail");
    const profileIcon = document.getElementById("profileIcon");

    dropdownName.textContent = user.name || user.fullname || "User";
    dropdownEmail.textContent = user.email || "email@example.com";

    // If Google user has picture
    if (user.picture) {
        profileIcon.src = user.picture;
    } else {
        // Show first letter avatar
        const initial = (user.name || user.fullname || user.email || "?")
                        .charAt(0).toUpperCase();
        profileIcon.src = `https://api.dicebear.com/7.x/initials/svg?seed=${initial}`;
    }

    // Logout event
    const logoutBtn = document.getElementById("logoutBtn");
    logoutBtn.addEventListener("click", () => {
        localStorage.removeItem("user");
        localStorage.removeItem("token");
        window.location.href = "index.html";
    });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/fullinfo.js"></script>
</body>
</html>
